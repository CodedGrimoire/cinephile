{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/tazkia/Documents/GitHub/cinephile/firebaseConfig.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport {\n  getAnalytics,\n  isSupported as analyticsIsSupported,\n} from \"firebase/analytics\";\nimport {\n  getAuth,\n  setPersistence,\n  browserLocalPersistence,\n} from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCqM5jVtgVb2yX2mC4zDlfuhpKfOzY-mnU\",\n  authDomain: \"cinephile-e1055.firebaseapp.com\",\n  projectId: \"cinephile-e1055\",\n  storageBucket: \"cinephile-e1055.firebasestorage.app\",\n  messagingSenderId: \"1055645990910\",\n  appId: \"1:1055645990910:web:c15e451c38aecf34548aaf\",\n  measurementId: \"G-2DCEZTQ3T0\",\n};\n\n// ✅ Initialize only once\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\n// ✅ Initialize analytics only if supported and on client\nif (typeof window !== \"undefined\") {\n  analyticsIsSupported().then((supported) => {\n    if (supported) {\n      getAnalytics(app);\n    }\n  });\n}\n\n// ✅ Set persistence\nsetPersistence(auth, browserLocalPersistence).catch((error) => {\n  console.error(\"Failed to set auth persistence:\", error);\n});\n\n// ✅ Export correctly\nexport { app, auth, db };\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAKA;AAAA;;;;;AAEA,yBAAyB;AACzB,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,yBAAyB;AACzB,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AAExB,yDAAyD;AACzD,uCAAmC;;AAMnC;AAEA,oBAAoB;AACpB,CAAA,GAAA,oNAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,6NAAA,CAAA,0BAAuB,EAAE,KAAK,CAAC,CAAC;IACnD,QAAQ,KAAK,CAAC,mCAAmC;AACnD","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/tazkia/Documents/GitHub/cinephile/app/mylist/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth, db } from \"@/firebaseConfig\";\nimport { doc, getDoc, updateDoc, arrayRemove } from \"firebase/firestore\";\n\ninterface Movie {\n  imdbID: string;\n  Title: string;\n  Poster: string;\n  Year: string;\n}\n\nexport default function MyListPage() {\n  const [watchlist, setWatchlist] = useState<Movie[]>([]);\n  const [userId, setUserId] = useState<string | null>(null);\n  const [toast, setToast] = useState<string | null>(null);\n  const [visibleCount, setVisibleCount] = useState(6);\n  const router = useRouter();\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        setUserId(user.uid);\n        const userDoc = doc(db, \"watchlists\", user.uid);\n        const snapshot = await getDoc(userDoc);\n        if (snapshot.exists()) {\n          const data = snapshot.data();\n          setWatchlist(data.movies || []);\n        }\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleAction = async (movie: Movie) => {\n    if (!userId) return;\n    try {\n      const userDoc = doc(db, \"watchlists\", userId);\n      await updateDoc(userDoc, {\n        movies: arrayRemove(movie),\n      });\n      setWatchlist((prev) => prev.filter((m) => m.imdbID !== movie.imdbID));\n      setToast(`${movie.Title} removed from your list.`);\n      setTimeout(() => setToast(null), 2500);\n    } catch (err) {\n      console.error(\"Failed to update list:\", err);\n    }\n  };\n\n  const loadMore = () => setVisibleCount((prev) => prev + 6);\n\n  return (\n    <div\n      className=\"min-h-screen w-full px-6 py-8 relative\"\n      style={{\n        backgroundImage:\n          \"url('https://cdn.dribbble.com/userupload/21386027/file/original-6c3c1d06479b15e1dd57492adebb0bd6.gif')\",\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundAttachment: \"fixed\",\n      }}\n    >\n      {toast && (\n        <div className=\"fixed top-6 left-1/2 transform -translate-x-1/2 z-50 bg-red-600 text-white px-6 py-2 rounded-lg shadow-lg\">\n          {toast}\n        </div>\n      )}\n\n      <h1 className=\"text-white text-3xl font-bold mb-6 drop-shadow-xl text-center\">\n        My Watchlist\n      </h1>\n\n      {watchlist.length === 0 ? (\n        <p className=\"text-white text-center\">No movies in your list.</p>\n      ) : (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {watchlist.slice(0, visibleCount).map((movie) => (\n            <div\n              key={movie.imdbID}\n              className=\"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-4 text-white shadow-lg\"\n            >\n              <img\n                src={movie.Poster !== \"N/A\" ? movie.Poster : \"/placeholder.png\"}\n                alt={movie.Title}\n                className=\"w-full h-64 object-cover rounded-md mb-4\"\n              />\n              <h3 className=\"text-xl font-semibold mb-1\">{movie.Title}</h3>\n              <p className=\"text-white/60 text-sm mb-2\">{movie.Year}</p>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => handleAction(movie)}\n                  className=\"px-4 py-2 bg-green-500/20 text-green-300 border border-green-300 rounded-full hover:bg-green-500/30 transition\"\n                >\n                  Watched\n                </button>\n                <button\n                  onClick={() => handleAction(movie)}\n                  className=\"px-4 py-2 bg-red-500/20 text-red-300 border border-red-300 rounded-full hover:bg-red-500/30 transition\"\n                >\n                  Remove\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {visibleCount < watchlist.length && (\n        <div className=\"text-center mt-8\">\n          <button\n            onClick={loadMore}\n            className=\"px-6 py-2 bg-white/20 text-white rounded-full hover:bg-white/30\"\n          >\n            Load More\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}