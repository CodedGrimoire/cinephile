{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/tazkia/Documents/GitHub/cinephile/firebaseConfig.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport {\n  getAnalytics,\n  isSupported as analyticsIsSupported,\n} from \"firebase/analytics\";\nimport {\n  getAuth,\n  setPersistence,\n  browserLocalPersistence,\n} from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCqM5jVtgVb2yX2mC4zDlfuhpKfOzY-mnU\",\n  authDomain: \"cinephile-e1055.firebaseapp.com\",\n  projectId: \"cinephile-e1055\",\n  storageBucket: \"cinephile-e1055.firebasestorage.app\",\n  messagingSenderId: \"1055645990910\",\n  appId: \"1:1055645990910:web:c15e451c38aecf34548aaf\",\n  measurementId: \"G-2DCEZTQ3T0\",\n};\n\n// ✅ Initialize only once\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\n// ✅ Initialize analytics only if supported and on client\nif (typeof window !== \"undefined\") {\n  analyticsIsSupported().then((supported) => {\n    if (supported) {\n      getAnalytics(app);\n    }\n  });\n}\n\n// ✅ Set persistence\nsetPersistence(auth, browserLocalPersistence).catch((error) => {\n  console.error(\"Failed to set auth persistence:\", error);\n});\n\n// ✅ Export correctly\nexport { app, auth, db };\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAKA;AAAA;;;;;AAEA,yBAAyB;AACzB,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,yBAAyB;AACzB,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AAExB,yDAAyD;AACzD,uCAAmC;;AAMnC;AAEA,oBAAoB;AACpB,CAAA,GAAA,oNAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,6NAAA,CAAA,0BAAuB,EAAE,KAAK,CAAC,CAAC;IACnD,QAAQ,KAAK,CAAC,mCAAmC;AACnD","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/tazkia/Documents/GitHub/cinephile/app/mylist/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth, db } from \"@/firebaseConfig\";\nimport { doc, getDoc, updateDoc, arrayRemove, arrayUnion } from \"firebase/firestore\";\n\ninterface Movie {\n  imdbID: string;\n  Title: string;\n  Poster: string;\n  Year: string;\n  Genre?: string;\n  Plot?: string;\n  Actors?: string;\n}\n\nexport default function MyListPage() {\n  const [watchlist, setWatchlist] = useState<Movie[]>([]);\n  const [watchedMovies, setWatchedMovies] = useState<Movie[]>([]);\n  const [userId, setUserId] = useState<string | null>(null);\n  const [toast, setToast] = useState<string | null>(null);\n  const [modalMovie, setModalMovie] = useState<Movie | null>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        setUserId(user.uid);\n        const userDoc = doc(db, \"watchlists\", user.uid);\n        const snapshot = await getDoc(userDoc);\n        if (snapshot.exists()) {\n          const data = snapshot.data();\n          setWatchlist(data.movies || []);\n          setWatchedMovies(data.watchedMovies || []);\n        }\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const markAsWatched = async (movie: Movie) => {\n    if (!userId) return;\n    try {\n      const userDoc = doc(db, \"watchlists\", userId);\n      await updateDoc(userDoc, {\n        movies: arrayRemove(movie),\n        watchedMovies: arrayUnion(movie),\n      });\n      setWatchlist((prev) => prev.filter((m) => m.imdbID !== movie.imdbID));\n      setWatchedMovies((prev) => [...prev, movie]);\n      setToast(`${movie.Title} marked as watched!`);\n      setTimeout(() => setToast(null), 2500);\n    } catch (err) {\n      console.error(\"Failed to update list:\", err);\n    }\n  };\n\n  const removeFromList = async (movie: Movie) => {\n    if (!userId) return;\n    try {\n      const userDoc = doc(db, \"watchlists\", userId);\n      await updateDoc(userDoc, {\n        movies: arrayRemove(movie),\n      });\n      setWatchlist((prev) => prev.filter((m) => m.imdbID !== movie.imdbID));\n      setToast(`${movie.Title} removed from your list.`);\n      setTimeout(() => setToast(null), 2500);\n    } catch (err) {\n      console.error(\"Failed to update list:\", err);\n    }\n  };\n\n  const removeFromWatched = async (movie: Movie) => {\n    if (!userId) return;\n    try {\n      const userDoc = doc(db, \"watchlists\", userId);\n      await updateDoc(userDoc, {\n        watchedMovies: arrayRemove(movie),\n      });\n      setWatchedMovies((prev) => prev.filter((m) => m.imdbID !== movie.imdbID));\n      setToast(`${movie.Title} removed from watched list.`);\n      setTimeout(() => setToast(null), 2500);\n    } catch (err) {\n      console.error(\"Failed to update list:\", err);\n    }\n  };\n\n  const MovieCard = ({ movie, isWatched = false }: { movie: Movie; isWatched?: boolean }) => (\n    <div\n      onClick={() => setModalMovie(movie)}\n      className=\"cursor-pointer bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-4 text-white shadow-lg hover:bg-white/20 transition-all duration-300 hover:scale-105 flex-shrink-0 w-64\"\n    >\n      <img\n        src={movie.Poster !== \"N/A\" ? movie.Poster : \"/placeholder.png\"}\n        alt={movie.Title}\n        className=\"w-full h-80 object-cover rounded-md mb-4\"\n      />\n      <h3 className=\"text-lg font-semibold mb-1 truncate\">{movie.Title}</h3>\n      <p className=\"text-white/60 text-sm mb-3\">{movie.Year}</p>\n      <div className=\"flex gap-2\">\n        {!isWatched ? (\n          <>\n           <button\n  onClick={(e) => {\n    e.stopPropagation();\n    markAsWatched(movie);\n  }}\n  className=\"px-3 py-2 bg-blue-500/20 text-blue-300 border border-blue-300/50 rounded-full hover:bg-blue-500/30 transition text-sm flex-1\n             hover:shadow-[0_0_8px_rgba(255,255,255,0.7)]\"\n>\n  Watched\n</button>\n            <button\n  onClick={(e) => {\n    e.stopPropagation();\n    removeFromList(movie);\n  }}\n  className=\"px-3 py-2 bg-purple-500/20 text-purple-300 border border-purple-300/50 rounded-full hover:bg-purple-500/30 transition text-sm flex-1\n             hover:shadow-[0_0_8px_rgba(255,255,255,0.7)]\"\n>\n  Remove\n</button>\n          </>\n        ) : (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              removeFromWatched(movie);\n            }}\n            className=\"px-3 py-2 bg-purple-500/20 text-purple-300 border border-purple-300/50 rounded-full hover:bg-purple-500/30 transition text-sm w-full\"\n          >\n            Remove\n          </button>\n        )}\n      </div>\n    </div>\n  );\n\n  return (\n    <div\n      className=\"min-h-screen w-full px-6 py-8 relative\"\n      style={{\n        backgroundImage:\n          \"url('https://cdn.dribbble.com/userupload/21386027/file/original-6c3c1d06479b15e1dd57492adebb0bd6.gif')\",\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundAttachment: \"fixed\",\n      }}\n    >\n      {toast && (\n        <div className=\"fixed top-6 left-1/2 transform -translate-x-1/2 z-50 bg-white/20 backdrop-blur-md text-white px-6 py-3 rounded-lg shadow-lg border border-white/30\">\n          {toast}\n        </div>\n      )}\n\n      {/* Watchlist Section */}\n      <div className=\"mb-12\">\n        <h1 className=\"text-white text-3xl font-bold mb-6 drop-shadow-xl\">\n          My Watchlist\n        </h1>\n\n        {watchlist.length === 0 ? (\n          <div className=\"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-8 text-center\">\n            <p className=\"text-white/70 text-lg\">No movies in your watchlist.</p>\n          </div>\n        ) : (\n          <div className=\"relative\">\n            <div className=\"flex gap-6 overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent\">\n              {watchlist.map((movie) => (\n                <MovieCard key={movie.imdbID} movie={movie} />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Watched Movies Section */}\n      <div>\n        <h2 className=\"text-white text-3xl font-bold mb-6 drop-shadow-xl\">\n          Watched Movies\n        </h2>\n\n        {watchedMovies.length === 0 ? (\n          <div className=\"bg-white/10 backdrop-blur-lg border border-white/20 rounded-xl p-8 text-center\">\n            <p className=\"text-white/70 text-lg\">No watched movies yet.</p>\n          </div>\n        ) : (\n          <div className=\"relative\">\n            <div className=\"flex gap-6 overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent\">\n              {watchedMovies.map((movie) => (\n                <MovieCard key={movie.imdbID} movie={movie} isWatched={true} />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {modalMovie && (\n        <div\n          className=\"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center px-4\"\n          onClick={() => setModalMovie(null)}\n        >\n          <div\n            onClick={(e) => e.stopPropagation()}\n            className=\"bg-white/10 backdrop-blur-lg border border-white/20 p-6 rounded-2xl max-w-xl w-full shadow-2xl text-white\"\n          >\n            <div className=\"flex flex-col md:flex-row gap-4\">\n              <img\n                src={modalMovie.Poster !== \"N/A\" ? modalMovie.Poster : \"/placeholder.png\"}\n                alt={modalMovie.Title}\n                className=\"w-full md:w-48 h-auto rounded-lg\"\n              />\n              <div>\n                <h2 className=\"text-3xl font-bold mb-2\">{modalMovie.Title}</h2>\n                <p className=\"text-sm text-white/70 mb-1\">Year: {modalMovie.Year}</p>\n                <p className=\"text-sm text-white/70 mb-1\">Genre: {modalMovie.Genre || \"N/A\"}</p>\n                <p className=\"text-sm text-white/60 mb-3\">Cast: {modalMovie.Actors || \"Unknown\"}</p>\n                <p className=\"text-white/80 text-sm italic\">\n                  \"{modalMovie.Plot || \"No description available.\"}\"\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={() => setModalMovie(null)}\n              className=\"mt-4 w-full py-2 bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 transition\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      <style jsx global>{`\n        .scrollbar-thin::-webkit-scrollbar {\n          height: 6px;\n        }\n        \n        .scrollbar-thumb-white\\/20::-webkit-scrollbar-thumb {\n          background-color: rgba(255, 255, 255, 0.2);\n          border-radius: 3px;\n        }\n        \n        .scrollbar-track-transparent::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        .scrollbar-thin::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(255, 255, 255, 0.3);\n        }\n      `}</style>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}