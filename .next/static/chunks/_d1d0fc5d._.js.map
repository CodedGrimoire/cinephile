{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/tazkia/Documents/GitHub/cinephile/firebaseConfig.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport {\n  getAnalytics,\n  isSupported as analyticsIsSupported,\n} from \"firebase/analytics\";\nimport {\n  getAuth,\n  setPersistence,\n  browserLocalPersistence,\n} from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCqM5jVtgVb2yX2mC4zDlfuhpKfOzY-mnU\",\n  authDomain: \"cinephile-e1055.firebaseapp.com\",\n  projectId: \"cinephile-e1055\",\n  storageBucket: \"cinephile-e1055.firebasestorage.app\",\n  messagingSenderId: \"1055645990910\",\n  appId: \"1:1055645990910:web:c15e451c38aecf34548aaf\",\n  measurementId: \"G-2DCEZTQ3T0\",\n};\n\n// ✅ Initialize only once\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\n// ✅ Initialize analytics only if supported and on client\nif (typeof window !== \"undefined\") {\n  analyticsIsSupported().then((supported) => {\n    if (supported) {\n      getAnalytics(app);\n    }\n  });\n}\n\n// ✅ Set persistence\nsetPersistence(auth, browserLocalPersistence).catch((error) => {\n  console.error(\"Failed to set auth persistence:\", error);\n});\n\n// ✅ Export correctly\nexport { app, auth, db };\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AAAA;AAKA;AAAA;;;;;AAEA,yBAAyB;AACzB,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,yBAAyB;AACzB,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;AAExB,yDAAyD;AACzD,wCAAmC;IACjC,CAAA,GAAA,6KAAA,CAAA,cAAoB,AAAD,IAAI,IAAI,CAAC,CAAC;QAC3B,IAAI,WAAW;YACb,CAAA,GAAA,6KAAA,CAAA,eAAY,AAAD,EAAE;QACf;IACF;AACF;AAEA,oBAAoB;AACpB,CAAA,GAAA,oNAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,6NAAA,CAAA,0BAAuB,EAAE,KAAK,CAAC,CAAC;IACnD,QAAQ,KAAK,CAAC,mCAAmC;AACnD","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/tazkia/Documents/GitHub/cinephile/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport { auth, db } from \"@/firebaseConfig\";\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    provider.setCustomParameters({ prompt: \"select_account\" });\n\n    try {\n      const result = await signInWithPopup(auth, provider);\n      const user = result.user;\n\n      // ✅ Save to Firestore if new\n      const userRef = doc(db, \"users\", user.uid);\n      const userSnap = await getDoc(userRef);\n\n      if (!userSnap.exists()) {\n        await setDoc(userRef, {\n          name: user.displayName,\n          email: user.email,\n          photoURL: user.photoURL,\n          createdAt: new Date(),\n        });\n        console.log(\"✅ User added to Firestore\");\n      } else {\n        console.log(\"ℹ️ User already exists in Firestore\");\n      }\n\n      // ✅ Save locally\n      localStorage.setItem(\"user\", JSON.stringify({\n        name: user.displayName,\n        email: user.email,\n        photo: user.photoURL,\n      }));\n\n      console.log(\"✅ Login successful\");\n      router.push(\"/homepage\");\n\n    } catch (error) {\n      console.error(\"❌ Login failed:\", error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-black text-white px-4\">\n      <h1 className=\"text-4xl font-bold mb-8\">Login to Cinephile</h1>\n      <button\n        onClick={signInWithGoogle}\n        className=\"bg-white text-black px-6 py-3 rounded-full hover:scale-105 transition\"\n      >\n        Sign in with Google\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;AANA;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,mBAAmB;QACvB,MAAM,WAAW,IAAI,wNAAA,CAAA,qBAAkB;QACvC,SAAS,mBAAmB,CAAC;YAAE,QAAQ;QAAiB;QAExD,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,qNAAA,CAAA,kBAAe,AAAD,EAAE,iHAAA,CAAA,OAAI,EAAE;YAC3C,MAAM,OAAO,OAAO,IAAI;YAExB,6BAA6B;YAC7B,MAAM,UAAU,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,iHAAA,CAAA,KAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;YAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;gBACtB,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,SAAS;oBACpB,MAAM,KAAK,WAAW;oBACtB,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;oBACvB,WAAW,IAAI;gBACjB;gBACA,QAAQ,GAAG,CAAC;YACd,OAAO;gBACL,QAAQ,GAAG,CAAC;YACd;YAEA,iBAAiB;YACjB,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;gBAC1C,MAAM,KAAK,WAAW;gBACtB,OAAO,KAAK,KAAK;gBACjB,OAAO,KAAK,QAAQ;YACtB;YAEA,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,CAAC;QAEd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;QACnC;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP;GArDwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}}]
}